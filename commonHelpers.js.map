{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// function HTTP request\nimport axios from 'axios';\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '44067524-7b37ef940db212c179aad5861';\n\nexport function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  return axios.get(url)\n    .then(response => response.data.hits)\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw new Error('Failed to fetch images')\n    });\n}\n","// functions for displaying interface elements\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet galleries = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n\nexport function renderImage(images) {\n\n  gallery.innerHTML = markup(images);\n}\n\nfunction markup(images) {\n  return images.map(image  =>\n    `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n<ul class='info'>\n      <li class=\"info-image><strong class=\"info-comment\">Likes</strong> ${image.likes}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Views</strong> ${image.views}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Comments</strong> ${image.comments}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Downloads</strong> ${image.downloads}</li>\n      </ul>\n</li>`\n  ).join(\"\");\n}\n\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n    });\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoad() {\n  loader.style.display = 'block';\n    // loader.classList.remove('hidden');\n}\n \nexport function hideLoad() {\n  loader.style.display = 'none';\n    // loader.classList.add('hidden');\n}\n\n\n\nexport function refreshgalleries() {\n    galleries.refresh();\n\n}","import { fetchImages } from \"./js/pixabay-api\";\nimport { renderImage, showError, clearGallery, showLoad, hideLoad, refreshgalleries } from \"./js/render-functions\";\n// import { moduleLightbox } from \"./js/render-functions\";\n\n\nconst form = document.querySelector('.form-search');\nconst formInput = document.querySelector('.form-search input[name=\"query\"]');\n// let galleries = null;\n\nform.addEventListener ('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const query = formInput.value.trim();\n\n  if (!query) {\n    showError('Please enter a search term');\n    return;\n  }\n  \n    clearGallery();\n    showLoad();\n\n  fetchImages(query)\n    .then(images => {\n      if (images.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n          renderImage(images);\n        formInput.value = '';\n          refreshgalleries();\n      }\n    })\n    .catch(error => {\n      showError('An error occured while fetching images');\n      console.error(error);\n    })\n      .finally(() => {\n          hideLoad();\n      });\n\n}"],"names":["BASE_URL","API_KEY","fetchImages","query","url","axios","response","error","gallery","loader","galleries","SimpleLightbox","renderImage","images","markup","image","showError","message","iziToast","clearGallery","showLoad","hideLoad","refreshgalleries","form","formInput","handleSubmit","event"],"mappings":"owBAIA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAME,CAAK,2DAEjD,OAAOE,EAAM,IAAID,CAAG,EACjB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvC,IAAI,MAAM,wBAAwB,CAC9C,CAAK,CACL,CCNA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAY,IAAIC,EAAe,aAAc,CACzC,aAAc,MACd,aAAc,GACtB,CAAK,EAEE,SAASC,EAAYC,EAAQ,CAElCL,EAAQ,UAAYM,EAAOD,CAAM,CACnC,CAEA,SAASC,EAAOD,EAAQ,CACtB,OAAOA,EAAO,IAAIE,GAChB;AAAA,kCAC8BA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,0EAImDA,EAAM,KAAK;AAAA,0EACXA,EAAM,KAAK;AAAA,6EACRA,EAAM,QAAQ;AAAA,8EACbA,EAAM,SAAS;AAAA;AAAA,MAG7F,EAAI,KAAK,EAAE,CACX,CAGO,SAASC,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,GAAe,CAC7BX,EAAQ,UAAY,EACtB,CAEO,SAASY,GAAW,CACzBX,EAAO,MAAM,QAAU,OAEzB,CAEO,SAASY,GAAW,CACzBZ,EAAO,MAAM,QAAU,MAEzB,CAIO,SAASa,GAAmB,CAC/BZ,EAAU,QAAO,CAErB,CChEA,MAAMa,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,kCAAkC,EAG3ED,EAAK,iBAAkB,SAAUE,CAAY,EAE7C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMvB,EAAQqB,EAAU,MAAM,KAAI,EAElC,GAAI,CAACrB,EAAO,CACVa,EAAU,4BAA4B,EACtC,MACD,CAECG,IACAC,IAEFlB,EAAYC,CAAK,EACd,KAAKU,GAAU,CACVA,EAAO,SAAW,EACpBG,EACE,0EACV,GAEUJ,EAAYC,CAAM,EACpBW,EAAU,MAAQ,GAChBF,IAEV,CAAK,EACA,MAAMf,GAAS,CACdS,EAAU,wCAAwC,EAClD,QAAQ,MAAMT,CAAK,CACzB,CAAK,EACE,QAAQ,IAAM,CACXc,GACV,CAAO,CAEP"}