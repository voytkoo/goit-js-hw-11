{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// function HTTP request\nimport axios from 'axios';\n\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '44067524-7b37ef940db212c179aad5861';\n\nexport function fetchImages(query) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  \n  return axios.get(url)\n    .then(response => response.data.hits)\n    .catch(error => {\n      throw new error('Error fetching images:');\n    });\n}\n","// functions for displaying interface elements\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet galleries = null;\n\n\nexport function renderImage(images) {\n\n  gallery.innerHTML = markup(images);\n  refreshgalleries();\n}\n\nfunction markup(images) {\n  return images.map(image  =>\n    `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${image.tags}\"\n    />\n  </a>\n<ul class='info'>\n      <li class=\"info-image><strong class=\"info-comment\">Likes</strong> ${image.likes}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Views</strong> ${image.views}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Comments</strong> ${image.comments}</li>\n      <li class=\"info-image><strong class=\"info-comment\">Downloads</strong> ${image.downloads}</li>\n      </ul>\n</li>`\n  ).join(\"\");\n}\n\n\nexport function showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n    });\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function showLoad() {\n    loader.classList.remove('hidden');\n}\n \nexport function hideLoad() {\n    loader.classList.add('hiden');\n}\n\nexport function moduleLightbox() {\n    galleries = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250\n    });\n}\nexport function refreshgalleries() {\n  if (galleries) {\n    galleries.refresh();\n  } else {\n    moduleLightbox();\n  }\n}","import { fetchImages } from \"./js/pixabay-api\";\nimport { renderImage } from \"./js/render-functions\";\nimport { showError } from \"./js/render-functions\";\nimport { clearGallery } from \"./js/render-functions\";\nimport { showLoad } from \"./js/render-functions\";\nimport { hideLoad } from \"./js/render-functions\";\nimport { moduleLightbox } from \"./js/render-functions\";\nimport { refreshgalleries } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form-search');\nconst formInput = document.querySelector('.form-search input[name=\"query\"]');\n\nform.addEventListener ('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const query = formInput.value.trim();\n\n  if (!query) {\n    showError('Please enter a search term');\n    return;\n  }\n  \n    clearGallery();\n    showLoad();\n\n  fetchImages(query)\n    .then(images => {\n      if (images.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n          renderImage(images);\n          moduleLightbox();\n          refreshgalleries();\n      }\n    })\n    .catch(error => {\n      showError('An error occured while fetching images');\n      console.error(error);\n    })\n      .finally(() => {\n          hideLoad();\n      });\n\n}"],"names":["BASE_URL","API_KEY","fetchImages","query","url","axios","response","error","gallery","loader","galleries","renderImage","images","markup","refreshgalleries","image","showError","message","iziToast","clearGallery","showLoad","hideLoad","moduleLightbox","SimpleLightbox","form","formInput","handleSubmit","event"],"mappings":"owBAIA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAME,CAAK,2DAEjD,OAAOE,EAAM,IAAID,CAAG,EACjB,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,GAAS,CACd,MAAM,IAAIA,EAAM,wBAAwB,CAC9C,CAAK,CACL,CCLA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAY,KAGT,SAASC,EAAYC,EAAQ,CAElCJ,EAAQ,UAAYK,EAAOD,CAAM,EACjCE,GACF,CAEA,SAASD,EAAOD,EAAQ,CACtB,OAAOA,EAAO,IAAIG,GAChB;AAAA,kCAC8BA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,0EAImDA,EAAM,KAAK;AAAA,0EACXA,EAAM,KAAK;AAAA,6EACRA,EAAM,QAAQ;AAAA,8EACbA,EAAM,SAAS;AAAA;AAAA,MAG7F,EAAI,KAAK,EAAE,CACX,CAGO,SAASC,EAAUC,EAAS,CAC/BC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,GAAe,CAC7BX,EAAQ,UAAY,EACtB,CAEO,SAASY,GAAW,CACvBX,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASY,GAAW,CACvBZ,EAAO,UAAU,IAAI,OAAO,CAChC,CAEO,SAASa,GAAiB,CAC7BZ,EAAY,IAAIa,EAAe,aAAc,CACzC,aAAc,MACd,aAAc,GACtB,CAAK,CACL,CACO,SAAST,GAAmB,CAC7BJ,EACFA,EAAU,QAAO,EAEjBY,GAEJ,CChEA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,kCAAkC,EAE3ED,EAAK,iBAAkB,SAAUE,CAAY,EAE7C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMxB,EAAQsB,EAAU,MAAM,KAAI,EAElC,GAAI,CAACtB,EAAO,CACVa,EAAU,4BAA4B,EACtC,MACD,CAECG,IACAC,IAEFlB,EAAYC,CAAK,EACd,KAAKS,GAAU,CACVA,EAAO,SAAW,EACpBI,EACE,0EACV,GAEUL,EAAYC,CAAM,EAClBU,IACAR,IAEV,CAAK,EACA,MAAMP,GAAS,CACdS,EAAU,wCAAwC,EAClD,QAAQ,MAAMT,CAAK,CACzB,CAAK,EACE,QAAQ,IAAM,CACXc,GACV,CAAO,CAEP"}